{"ast":null,"code":"import _objectSpread from\"C:/my project/Donation-App-master1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,Redirect}from'react-router-dom';import{connect}from'react-redux';import{login}from'../../actions/auth';import{Container,Typography,TextField,Button,Grid,Paper,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{login,isAuthenticated,userRole}=_ref;const[formData,setFormData]=useState({email:'',password:''});const{email,password}=formData;const onChange=e=>setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));const onSubmit=async e=>{e.preventDefault();login(email,password);};// Redirect if logged in\nif(isAuthenticated){if(userRole==='admin'){return/*#__PURE__*/_jsx(Redirect,{to:\"/admin/dashboard\"});}else if(userRole==='donor'){return/*#__PURE__*/_jsx(Redirect,{to:\"/donor/dashboard\"});}else if(userRole==='recipient'){return/*#__PURE__*/_jsx(Redirect,{to:\"/recipient/dashboard\"});}}return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{mt:8,mb:4,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",align:\"center\",gutterBottom:true,children:\"Sign In\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",color:\"textSecondary\",paragraph:true,children:\"Sign into your SDMS account\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:onSubmit,noValidate:true,sx:{mt:3},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:email,onChange:onChange}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:onChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",sx:{mt:3,mb:2},children:\"Sign In\"}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"flex-end\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{to:\"/register\",variant:\"body2\",children:\"Don't have an account? Sign Up\"})})})]})]})})});};const mapStateToProps=state=>({isAuthenticated:state.auth.isAuthenticated,userRole:state.auth.user?state.auth.user.role:null});export default connect(mapStateToProps,{login})(Login);","map":{"version":3,"names":["React","useState","Link","Redirect","connect","login","Container","Typography","TextField","Button","Grid","Paper","Box","jsx","_jsx","jsxs","_jsxs","Login","_ref","isAuthenticated","userRole","formData","setFormData","email","password","onChange","e","_objectSpread","target","name","value","onSubmit","preventDefault","to","maxWidth","children","mt","mb","elevation","sx","p","borderRadius","variant","component","align","gutterBottom","color","paragraph","noValidate","margin","required","fullWidth","id","label","autoComplete","autoFocus","type","container","justifyContent","item","mapStateToProps","state","auth","user","role"],"sources":["C:/my project/Donation-App-master1/frontend/src/components/auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { login } from '../../actions/auth';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Grid,\r\n  Paper,\r\n  Box\r\n} from '@mui/material';\r\n\r\nconst Login = ({ login, isAuthenticated, userRole }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const { email, password } = formData;\r\n\r\n  const onChange = e =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    login(email, password);\r\n  };\r\n\r\n  // Redirect if logged in\r\n  if (isAuthenticated) {\r\n    if (userRole === 'admin') {\r\n      return <Redirect to=\"/admin/dashboard\" />;\r\n    } else if (userRole === 'donor') {\r\n      return <Redirect to=\"/donor/dashboard\" />;\r\n    } else if (userRole === 'recipient') {\r\n      return <Redirect to=\"/recipient/dashboard\" />;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Box mt={8} mb={4}>\r\n        <Paper elevation={3} sx={{ p: 4, borderRadius: 2 }}>\r\n          <Typography variant=\"h4\" component=\"h1\" align=\"center\" gutterBottom>\r\n            Sign In\r\n          </Typography>\r\n          <Typography variant=\"body1\" align=\"center\" color=\"textSecondary\" paragraph>\r\n            Sign into your SDMS account\r\n          </Typography>\r\n          \r\n          <Box component=\"form\" onSubmit={onSubmit} noValidate sx={{ mt: 3 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              value={email}\r\n              onChange={onChange}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={password}\r\n              onChange={onChange}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            <Grid container justifyContent=\"flex-end\">\r\n              <Grid item>\r\n                <Link to=\"/register\" variant=\"body2\">\r\n                  Don't have an account? Sign Up\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  login: PropTypes.func.isRequired,\r\n  isAuthenticated: PropTypes.bool,\r\n  userRole: PropTypes.string\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  userRole: state.auth.user ? state.auth.user.role : null\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}