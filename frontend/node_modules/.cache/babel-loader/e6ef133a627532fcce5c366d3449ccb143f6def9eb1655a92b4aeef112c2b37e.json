{"ast":null,"code":"import axios from'axios';import{setAlert}from'./alert';import{GET_REQUESTS,GET_REQUEST,REQUEST_ERROR,CREATE_REQUEST}from'./types';// Get requests\nexport const getRequests=()=>async dispatch=>{try{const res=await axios.get('/api/requests');dispatch({type:GET_REQUESTS,payload:res.data});}catch(err){dispatch({type:REQUEST_ERROR,payload:{msg:err.response.statusText,status:err.response.status}});}};// Create request\nexport const submitNewRequest=(formData,history)=>async dispatch=>{try{const config={headers:{'Content-Type':'application/json'}};const res=await axios.post('/api/requests',formData,config);dispatch({type:CREATE_REQUEST,payload:res.data});dispatch(setAlert('Request created successfully','success'));history.push('/recipient/dashboard');}catch(err){const errors=err.response.data.errors;if(errors){errors.forEach(error=>dispatch(setAlert(error.msg,'error')));}dispatch({type:REQUEST_ERROR,payload:{msg:err.response.statusText,status:err.response.status}});}};// Get request by ID\nexport const getRequestById=id=>async dispatch=>{try{const res=await axios.get(\"/api/requests/\".concat(id));dispatch({type:GET_REQUEST,payload:res.data});}catch(err){dispatch({type:REQUEST_ERROR,payload:{msg:err.response.statusText,status:err.response.status}});}};// Create a new request\nexport const createRequest=(formData,history)=>async dispatch=>{const config={headers:{'Content-Type':'application/json'}};try{const res=await axios.post('/api/requests',formData,config);dispatch({type:CREATE_REQUEST,payload:res.data});dispatch(setAlert('Request Created','success'));// Optionally redirect after creation\n// history.push('/dashboard'); // Or wherever appropriate\n}catch(err){const errors=err.response.data.errors;if(errors){errors.forEach(error=>dispatch(setAlert(error.msg,'danger')));}dispatch({type:REQUEST_ERROR,payload:{msg:err.response.statusText,status:err.response.status}});}};","map":{"version":3,"names":["axios","setAlert","GET_REQUESTS","GET_REQUEST","REQUEST_ERROR","CREATE_REQUEST","getRequests","dispatch","res","get","type","payload","data","err","msg","response","statusText","status","submitNewRequest","formData","history","config","headers","post","push","errors","forEach","error","getRequestById","id","concat","createRequest"],"sources":["C:/my project/Donation-App-master1/frontend/src/actions/request.js"],"sourcesContent":["import axios from 'axios';\nimport { setAlert } from './alert';\nimport {\n  GET_REQUESTS,\n  GET_REQUEST,\n  REQUEST_ERROR,\n  CREATE_REQUEST\n} from './types';\n\n// Get requests\nexport const getRequests = () => async dispatch => {\n  try {\n    const res = await axios.get('/api/requests');\n    dispatch({\n      type: GET_REQUESTS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: REQUEST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status }\n    });\n  }\n};\n\n// Create request\nexport const submitNewRequest = (formData, history) => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n\n    const res = await axios.post('/api/requests', formData, config);\n    dispatch({\n      type: CREATE_REQUEST,\n      payload: res.data\n    });\n    dispatch(setAlert('Request created successfully', 'success'));\n    history.push('/recipient/dashboard');\n  } catch (err) {\n    const errors = err.response.data.errors;\n    if (errors) {\n      errors.forEach(error => dispatch(setAlert(error.msg, 'error')));\n    }\n    dispatch({\n      type: REQUEST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status }\n    });\n  }\n};\n\n// Get request by ID\nexport const getRequestById = (id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/requests/${id}`);\n    dispatch({\n      type: GET_REQUEST,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: REQUEST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status }\n    });\n  }\n};\n\n// Create a new request\nexport const createRequest = (formData, history) => async (dispatch) => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n\n  try {\n    const res = await axios.post('/api/requests', formData, config);\n    dispatch({\n      type: CREATE_REQUEST,\n      payload: res.data\n    });\n    dispatch(setAlert('Request Created', 'success'));\n    // Optionally redirect after creation\n    // history.push('/dashboard'); // Or wherever appropriate\n  } catch (err) {\n    const errors = err.response.data.errors;\n    if (errors) {\n      errors.forEach((error) => dispatch(setAlert(error.msg, 'danger')));\n    }\n    dispatch({\n      type: REQUEST_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status }\n    });\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}