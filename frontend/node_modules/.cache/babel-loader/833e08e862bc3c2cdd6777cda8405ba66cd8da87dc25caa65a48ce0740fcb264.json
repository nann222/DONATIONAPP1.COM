{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from'react-redux';import{getDonationById}from'../../actions/donation';import{Typography,Container,Paper,CircularProgress,Box,List,ListItem,ListItemText,Divider}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DonationTracking=_ref=>{let{getDonationById,donation:{donation,loading,error},match}=_ref;useEffect(()=>{if(match.params.id){getDonationById(match.params.id);}},[getDonationById,match.params.id]);if(loading||donation===null){return/*#__PURE__*/_jsx(Container,{sx:{display:'flex',justifyContent:'center',mt:5},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error&&Object.keys(error).length>0){return/*#__PURE__*/_jsx(Container,{component:Paper,sx:{mt:4,p:3,textAlign:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"error\",children:[\"Error loading donation details: \",error.msg||'Unknown error']})});}return/*#__PURE__*/_jsxs(Container,{component:Paper,sx:{mt:4,p:3},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",gutterBottom:true,children:[\"Donation Tracking Details (ID: \",donation.trackingId,\")\"]}),/*#__PURE__*/_jsxs(Box,{sx:{my:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Status: \",donation.status]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Donation Date: \",new Date(donation.donationDate).toLocaleDateString()]}),donation.description&&/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",children:[\"Description: \",donation.description]})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Items Donated:\"}),donation.items&&donation.items.length>0?/*#__PURE__*/_jsx(List,{children:donation.items.map(item=>/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsx(ListItemText,{primary:\"\".concat(item.itemName,\" (\").concat(item.itemType,\")\"),secondary:\"Quantity: \".concat(item.quantity).concat(item.expiryDate?', Expires: '+new Date(item.expiryDate).toLocaleDateString():'')})},item._id))}):/*#__PURE__*/_jsx(Typography,{children:\"No items listed for this donation.\"}),donation.donor&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Donor Information:\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Name: \",donation.donor.name]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Email: \",donation.donor.email]})]}),donation.recipient&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Recipient Information:\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Name: \",donation.recipient.name]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Email: \",donation.recipient.email]})]}),donation.logistics&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Logistics Information:\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Status: \",donation.logistics.status]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Provider: \",donation.logistics.provider||'N/A']}),/*#__PURE__*/_jsxs(Typography,{children:[\"Notes: \",donation.logistics.notes||'N/A']})]})]});};const mapStateToProps=state=>({donation:state.donation});export default connect(mapStateToProps,{getDonationById})(DonationTracking);","map":{"version":3,"names":["React","useEffect","connect","getDonationById","Typography","Container","Paper","CircularProgress","Box","List","ListItem","ListItemText","Divider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DonationTracking","_ref","donation","loading","error","match","params","id","sx","display","justifyContent","mt","children","Object","keys","length","component","p","textAlign","variant","color","msg","gutterBottom","trackingId","my","status","Date","donationDate","toLocaleDateString","description","items","map","item","disablePadding","primary","concat","itemName","itemType","secondary","quantity","expiryDate","_id","donor","name","email","recipient","logistics","provider","notes","mapStateToProps","state"],"sources":["C:/my project/Donation-App-master1/frontend/src/components/tracking/DonationTracking.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getDonationById } from '../../actions/donation';\nimport { Typography, Container, Paper, CircularProgress, Box, List, ListItem, ListItemText, Divider } from '@mui/material';\n\nconst DonationTracking = ({ getDonationById, donation: { donation, loading, error }, match }) => {\n  useEffect(() => {\n    if (match.params.id) {\n      getDonationById(match.params.id);\n    }\n  }, [getDonationById, match.params.id]);\n\n  if (loading || donation === null) {\n    return (\n      <Container sx={{ display: 'flex', justifyContent: 'center', mt: 5 }}>\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  if (error && Object.keys(error).length > 0) {\n    return (\n      <Container component={Paper} sx={{ mt: 4, p: 3, textAlign: 'center' }}>\n        <Typography variant=\"h6\" color=\"error\">\n          Error loading donation details: {error.msg || 'Unknown error'}\n        </Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container component={Paper} sx={{ mt: 4, p: 3 }}>\n      <Typography variant=\"h5\" gutterBottom>\n        Donation Tracking Details (ID: {donation.trackingId})\n      </Typography>\n      <Box sx={{ my: 2 }}>\n        <Typography variant=\"h6\">Status: {donation.status}</Typography>\n        <Typography variant=\"subtitle1\">Donation Date: {new Date(donation.donationDate).toLocaleDateString()}</Typography>\n        {donation.description && <Typography variant=\"body1\">Description: {donation.description}</Typography>}\n      </Box>\n      \n      <Divider sx={{ my: 2 }} />\n\n      <Typography variant=\"h6\" gutterBottom>Items Donated:</Typography>\n      {donation.items && donation.items.length > 0 ? (\n        <List>\n          {donation.items.map((item) => (\n            <ListItem key={item._id} disablePadding>\n              <ListItemText \n                primary={`${item.itemName} (${item.itemType})`}\n                secondary={`Quantity: ${item.quantity}${item.expiryDate ? ', Expires: ' + new Date(item.expiryDate).toLocaleDateString() : ''}`}\n              />\n            </ListItem>\n          ))}\n        </List>\n      ) : (\n        <Typography>No items listed for this donation.</Typography>\n      )}\n\n      {donation.donor && (\n        <>\n          <Divider sx={{ my: 2 }} />\n          <Typography variant=\"h6\" gutterBottom>Donor Information:</Typography>\n          <Typography>Name: {donation.donor.name}</Typography>\n          <Typography>Email: {donation.donor.email}</Typography>\n          {/* Add more donor details as needed */}\n        </>\n      )}\n\n      {donation.recipient && (\n        <>\n          <Divider sx={{ my: 2 }} />\n          <Typography variant=\"h6\" gutterBottom>Recipient Information:</Typography>\n          <Typography>Name: {donation.recipient.name}</Typography>\n          <Typography>Email: {donation.recipient.email}</Typography>\n          {/* Add more recipient details as needed */}\n        </>\n      )}\n\n      {donation.logistics && (\n        <>\n          <Divider sx={{ my: 2 }} />\n          <Typography variant=\"h6\" gutterBottom>Logistics Information:</Typography>\n          <Typography>Status: {donation.logistics.status}</Typography>\n          <Typography>Provider: {donation.logistics.provider || 'N/A'}</Typography>\n          <Typography>Notes: {donation.logistics.notes || 'N/A'}</Typography>\n          {/* Add more logistics details as needed */}\n        </>\n      )}\n    </Container>\n  );\n};\n\nDonationTracking.propTypes = {\n  getDonationById: PropTypes.func.isRequired,\n  donation: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  donation: state.donation\n});\n\nexport default connect(mapStateToProps, { getDonationById })(DonationTracking);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,OAAO,KAAQ,aAAa,CAErC,OAASC,eAAe,KAAQ,wBAAwB,CACxD,OAASC,UAAU,CAAEC,SAAS,CAAEC,KAAK,CAAEC,gBAAgB,CAAEC,GAAG,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,YAAY,CAAEC,OAAO,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE3H,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAwE,IAAvE,CAAEjB,eAAe,CAAEkB,QAAQ,CAAE,CAAEA,QAAQ,CAAEC,OAAO,CAAEC,KAAM,CAAC,CAAEC,KAAM,CAAC,CAAAJ,IAAA,CAC1FnB,SAAS,CAAC,IAAM,CACd,GAAIuB,KAAK,CAACC,MAAM,CAACC,EAAE,CAAE,CACnBvB,eAAe,CAACqB,KAAK,CAACC,MAAM,CAACC,EAAE,CAAC,CAClC,CACF,CAAC,CAAE,CAACvB,eAAe,CAAEqB,KAAK,CAACC,MAAM,CAACC,EAAE,CAAC,CAAC,CAEtC,GAAIJ,OAAO,EAAID,QAAQ,GAAK,IAAI,CAAE,CAChC,mBACEP,IAAA,CAACT,SAAS,EAACsB,EAAE,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,QAAQ,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,cAClEjB,IAAA,CAACP,gBAAgB,GAAE,CAAC,CACX,CAAC,CAEhB,CAEA,GAAIgB,KAAK,EAAIS,MAAM,CAACC,IAAI,CAACV,KAAK,CAAC,CAACW,MAAM,CAAG,CAAC,CAAE,CAC1C,mBACEpB,IAAA,CAACT,SAAS,EAAC8B,SAAS,CAAE7B,KAAM,CAACqB,EAAE,CAAE,CAAEG,EAAE,CAAE,CAAC,CAAEM,CAAC,CAAE,CAAC,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAN,QAAA,cACpEf,KAAA,CAACZ,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACC,KAAK,CAAC,OAAO,CAAAR,QAAA,EAAC,kCACL,CAACR,KAAK,CAACiB,GAAG,EAAI,eAAe,EACnD,CAAC,CACJ,CAAC,CAEhB,CAEA,mBACExB,KAAA,CAACX,SAAS,EAAC8B,SAAS,CAAE7B,KAAM,CAACqB,EAAE,CAAE,CAAEG,EAAE,CAAE,CAAC,CAAEM,CAAC,CAAE,CAAE,CAAE,CAAAL,QAAA,eAC/Cf,KAAA,CAACZ,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACG,YAAY,MAAAV,QAAA,EAAC,iCACL,CAACV,QAAQ,CAACqB,UAAU,CAAC,GACtD,EAAY,CAAC,cACb1B,KAAA,CAACR,GAAG,EAACmB,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAE,CAAE,CAAAZ,QAAA,eACjBf,KAAA,CAACZ,UAAU,EAACkC,OAAO,CAAC,IAAI,CAAAP,QAAA,EAAC,UAAQ,CAACV,QAAQ,CAACuB,MAAM,EAAa,CAAC,cAC/D5B,KAAA,CAACZ,UAAU,EAACkC,OAAO,CAAC,WAAW,CAAAP,QAAA,EAAC,iBAAe,CAAC,GAAI,CAAAc,IAAI,CAACxB,QAAQ,CAACyB,YAAY,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAa,CAAC,CACjH1B,QAAQ,CAAC2B,WAAW,eAAIhC,KAAA,CAACZ,UAAU,EAACkC,OAAO,CAAC,OAAO,CAAAP,QAAA,EAAC,eAAa,CAACV,QAAQ,CAAC2B,WAAW,EAAa,CAAC,EAClG,CAAC,cAENlC,IAAA,CAACF,OAAO,EAACe,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAE1B7B,IAAA,CAACV,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACG,YAAY,MAAAV,QAAA,CAAC,gBAAc,CAAY,CAAC,CAChEV,QAAQ,CAAC4B,KAAK,EAAI5B,QAAQ,CAAC4B,KAAK,CAACf,MAAM,CAAG,CAAC,cAC1CpB,IAAA,CAACL,IAAI,EAAAsB,QAAA,CACFV,QAAQ,CAAC4B,KAAK,CAACC,GAAG,CAAEC,IAAI,eACvBrC,IAAA,CAACJ,QAAQ,EAAgB0C,cAAc,MAAArB,QAAA,cACrCjB,IAAA,CAACH,YAAY,EACX0C,OAAO,IAAAC,MAAA,CAAKH,IAAI,CAACI,QAAQ,OAAAD,MAAA,CAAKH,IAAI,CAACK,QAAQ,KAAI,CAC/CC,SAAS,cAAAH,MAAA,CAAeH,IAAI,CAACO,QAAQ,EAAAJ,MAAA,CAAGH,IAAI,CAACQ,UAAU,CAAG,aAAa,CAAG,GAAI,CAAAd,IAAI,CAACM,IAAI,CAACQ,UAAU,CAAC,CAACZ,kBAAkB,CAAC,CAAC,CAAG,EAAE,CAAG,CACjI,CAAC,EAJWI,IAAI,CAACS,GAKV,CACX,CAAC,CACE,CAAC,cAEP9C,IAAA,CAACV,UAAU,EAAA2B,QAAA,CAAC,oCAAkC,CAAY,CAC3D,CAEAV,QAAQ,CAACwC,KAAK,eACb7C,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACEjB,IAAA,CAACF,OAAO,EAACe,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B7B,IAAA,CAACV,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACG,YAAY,MAAAV,QAAA,CAAC,oBAAkB,CAAY,CAAC,cACrEf,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,QAAM,CAACV,QAAQ,CAACwC,KAAK,CAACC,IAAI,EAAa,CAAC,cACpD9C,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,SAAO,CAACV,QAAQ,CAACwC,KAAK,CAACE,KAAK,EAAa,CAAC,EAEtD,CACH,CAEA1C,QAAQ,CAAC2C,SAAS,eACjBhD,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACEjB,IAAA,CAACF,OAAO,EAACe,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B7B,IAAA,CAACV,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACG,YAAY,MAAAV,QAAA,CAAC,wBAAsB,CAAY,CAAC,cACzEf,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,QAAM,CAACV,QAAQ,CAAC2C,SAAS,CAACF,IAAI,EAAa,CAAC,cACxD9C,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,SAAO,CAACV,QAAQ,CAAC2C,SAAS,CAACD,KAAK,EAAa,CAAC,EAE1D,CACH,CAEA1C,QAAQ,CAAC4C,SAAS,eACjBjD,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACEjB,IAAA,CAACF,OAAO,EAACe,EAAE,CAAE,CAAEgB,EAAE,CAAE,CAAE,CAAE,CAAE,CAAC,cAC1B7B,IAAA,CAACV,UAAU,EAACkC,OAAO,CAAC,IAAI,CAACG,YAAY,MAAAV,QAAA,CAAC,wBAAsB,CAAY,CAAC,cACzEf,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,UAAQ,CAACV,QAAQ,CAAC4C,SAAS,CAACrB,MAAM,EAAa,CAAC,cAC5D5B,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,YAAU,CAACV,QAAQ,CAAC4C,SAAS,CAACC,QAAQ,EAAI,KAAK,EAAa,CAAC,cACzElD,KAAA,CAACZ,UAAU,EAAA2B,QAAA,EAAC,SAAO,CAACV,QAAQ,CAAC4C,SAAS,CAACE,KAAK,EAAI,KAAK,EAAa,CAAC,EAEnE,CACH,EACQ,CAAC,CAEhB,CAAC,CAQD,KAAM,CAAAC,eAAe,CAAIC,KAAK,GAAM,CAClChD,QAAQ,CAAEgD,KAAK,CAAChD,QAClB,CAAC,CAAC,CAEF,cAAe,CAAAnB,OAAO,CAACkE,eAAe,CAAE,CAAEjE,eAAgB,CAAC,CAAC,CAACgB,gBAAgB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}